# ~/.config/uwsm/env
# Format: shell `export KEY=VALUE`
# Scope: All uwsm sessions (global GUI/toolkits/NVIDIA/theming)

# Toolkits prefer Wayland with sane fallbacks
export GDK_BACKEND=wayland,x11,*
export QT_QPA_PLATFORM=wayland;xcb
export SDL_VIDEODRIVER=wayland
export CLUTTER_BACKEND=wayland
export GTK_USE_PORTAL=1

# Electron / Chromium family on Wayland
export OZONE_PLATFORM=wayland
export ELECTRON_OZONE_PLATFORM_HINT=wayland
# Occasionally helps with some Electron GL contexts
export NATIVE_WINDOW_OPENGL=1

# NVIDIA + GBM path (Wayland on proprietary driver)
export GBM_BACKEND=nvidia-drm
export __GLX_VENDOR_LIBRARY_NAME=nvidia
# Keep V-Sync pacing consistent when VRR is OFF in Hyprland
export __GL_SYNC_TO_VBLANK=1
# VA-API on NVIDIA (enable if you use it; harmless otherwise)
export LIBVA_DRIVER_NAME=nvidia

# Renderer safety net (lets apps start even if GPU stack hiccups)
export WLR_RENDERER_ALLOW_SOFTWARE=1

# Theming / cursors (adjust to taste)
export XCURSOR_THEME=Adwaita
export XCURSOR_SIZE=24

# Scaling hints
export QT_AUTO_SCREEN_SCALE_FACTOR=1

# Avoid setting XDG_*; uwsm provides correct values for Wayland + Hyprland.